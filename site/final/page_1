import streamlit as st
import base64

def show_opening_page():
    @st.cache_data
    def get_base64_of_bin_file(bin_file):
        try:
            with open(bin_file, 'rb') as f:
                data = f.read()
            return base64.b64encode(data).decode()
        except FileNotFoundError:
            st.error(f"'{bin_file}' íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê²½ë¡œì™€ íŒŒì¼ëª…ì„ ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.")
            return None

    def set_png_as_page_bg(png_file):
        bin_str = get_base64_of_bin_file(png_file)
        if bin_str:
            page_bg_img = f'''
            <style>
            /* === ğŸ‘‡ ì—¬ê¸°ë¶€í„° ë²„íŠ¼ ë””ìì¸ ì½”ë“œì…ë‹ˆë‹¤ ğŸ‘‡ === */
            div.stButton > button {{
                background-color: #FFD1DC;
                color: #4A4A4A;
                border-radius: 12px;
                border: 2px solid #FFC0CB;
                padding: 12px 30px;
                font-size: 1.2em;
                font-weight: bold;
                box-shadow: 2px 2px 8px rgba(0,0,0,0.2);
                transition: all 0.2s ease-in-out;
            }}
            div.stButton > button:hover {{
                background-color: #FFC0CB;
                color: white;
                border-color: #FFB6C1;
                transform: translateY(-2px);
            }}
            div.stButton > button:active {{
                transform: translateY(0);
            }}
            /* === ğŸ‘† ì—¬ê¸°ê¹Œì§€ ë²„íŠ¼ ë””ìì¸ ì½”ë“œì…ë‹ˆë‹¤ ğŸ‘† === */

            .stApp {{
                background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url("data:image/png;base64,{bin_str}");
                background-size: cover;
                background-position: center;
            }}
            .stApp > header {{
                background-color: transparent;
            }}
            </style>
            '''
            st.markdown(page_bg_img, unsafe_allow_html=True)

    # ğŸ’¡ğŸ’¡ğŸ’¡ íŒŒì¼ ê²½ë¡œì˜ ì—­ìŠ¬ë˜ì‹œ(\)ë¥¼ ìŠ¬ë˜ì‹œ(/)ë¡œ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤. ğŸ’¡ğŸ’¡ğŸ’¡
    image_path = 'C:/workspace/lab_llm/project/ê³°ëŒì´.png'
    set_png_as_page_bg(image_path)

    st.markdown("""
        <div style="display: flex; justify-content: center; align-items: center; height: 80vh; flex-direction: column;">
            <h1 style="color: white; text-align: center; font-size: 4em;">5Piece</h1>
            <p style="color: white; text-align: center; font-size: 1.5em; margin-top: 20px;">
                ì´ì œ ì „ë¬¸ê°€ì˜ ë„ì›€ ì—†ì´ ì±…ìƒ ì‚¬ì§„ í•œ ì¥ë§Œìœ¼ë¡œ ëª©ê³¼ ì–´ê¹¨, ì†ëª© í†µì¦ì„ ìœ ë°œí•˜ëŠ” ì˜ëª»ëœ ìì„¸ì™€ ì‘ì—… í™˜ê²½ì„ ì§„ë‹¨ë°›ì•„ ë³´ì„¸ìš”. <br>5Pieceê°€ ë‹¹ì‹ ì˜ ëª¸ì— ê¼­ ë§ëŠ” ìµœì ì˜ ì±…ìƒ ë°°ì¹˜ë¥¼ ì°¾ì•„, ë§¤ì¼ ë” í¸ì•ˆí•˜ê³  ê±´ê°•í•œ í•˜ë£¨ë¥¼ ì„ ë¬¼í•´ ë“œë¦´ê²Œìš”.
            </p>
        </div>
    """, unsafe_allow_html=True)

    _, col2, _ = st.columns([1.5, 1, 1.5])
    with col2:
        if st.button("ë¶„ì„ ì‹œì‘í•˜ê¸°", use_container_width=True):
            st.toast("ë²„íŠ¼ í´ë¦­! ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.")


if __name__ == "__main__":
    show_opening_page()
